- defaults:
    shell:
      stdout: true
      stderr: true
      stdin: true
- shell:
    - description: Installing submodules
      command: git submodule update --init --recursive
    - description: Installing build chain
      command: xcode-select -p || xcode-select --install
    - description: Installing homebrew
      command: /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
    - description: Running regular dotfiles operations
      command: $DOTFILES/bin/dotbot default
    - description: Add fish to /etc/shells
      command: grep -qxF $(which fish) /etc/shells || echo $(which fish) | sudo tee -a /etc/shells
    - description: Add ZSH to /etc/shells
      command: grep -qxF $(which zsh) /etc/shells || echo $(which zsh) | sudo tee -a /etc/shells
    - description: Make ZSH the default shell
      command: chsh -s $(which zsh)
    - description: Creating required directories
      command: mkdir -pv -m 0700 $HOME/.ssh
    - description: Setting up yarn global
      command: cd $(yarn global dir) && yarn
    - description: Set file associations
      command: bin/set-file-associations.sh

